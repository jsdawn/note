import{_ as s,o as a,c as n,d as e}from"./app.6b2783cc.js";const C=JSON.parse('{"title":"Vue3.0 项目升级到 Vue3.2","description":"","frontmatter":{"title":"Vue3.0 项目升级到 Vue3.2"},"headers":[{"level":2,"title":"Vue3.2 的新功能和性能改进","slug":"vue3-2-的新功能和性能改进","link":"#vue3-2-的新功能和性能改进","children":[]},{"level":2,"title":"Vue3.0 升级到 Vue3.2","slug":"vue3-0-升级到-vue3-2","link":"#vue3-0-升级到-vue3-2","children":[]},{"level":2,"title":"结语","slug":"结语","link":"#结语","children":[]}],"relativePath":"guide/vue3-upgrade.md","lastUpdated":1658894796000}'),l={name:"guide/vue3-upgrade.md"},p=e(`<h1 id="vue3-0-项目升级到-vue3-2-vue" tabindex="-1">Vue3.0 项目升级到 Vue3.2 ｜ VUE <a class="header-anchor" href="#vue3-0-项目升级到-vue3-2-vue" aria-hidden="true">#</a></h1><blockquote><p>2021 年 8 月 5 日，<strong>Vue3.2</strong> 正式发布。此版本包括许多重要的新功能和性能改进，并且不包含突破性的更改。</p></blockquote><h2 id="vue3-2-的新功能和性能改进" tabindex="-1">Vue3.2 的新功能和性能改进 <a class="header-anchor" href="#vue3-2-的新功能和性能改进" aria-hidden="true">#</a></h2><p><strong>SFC 的新功能：</strong></p><p>单文件组件的两个新功能（SFCs，又称 vue 文件）已脱离实验状态，现在被认为是稳定的：</p><ul><li><p><code>&lt;script setup&gt;</code> 是一种编译时语法糖，当在 SFCs 内使用合成 API 时，简洁代码结构和优化编码写法。</p></li><li><p><code>v-bind</code> 在 <code>&lt;style&gt;</code> 标签中启用组件状态驱动的动态 CSS 值。例如</p></li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">import </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ref </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> from &#39;vue&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">const color = ref(&#39;red&#39;)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">button </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  color: v</span><span style="color:#89DDFF;">-</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(color);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><strong>一些优秀的性能改进：</strong></p><ul><li>更高效的 ref 实现（读取速度加快约 260%/写入速度加快约 50%）</li><li>依赖项跟踪速度提高约 40%</li><li>内存使用减少约 17%</li></ul><h2 id="vue3-0-升级到-vue3-2" tabindex="-1">Vue3.0 升级到 Vue3.2 <a class="header-anchor" href="#vue3-0-升级到-vue3-2" aria-hidden="true">#</a></h2><p><strong>以 Vue CLI 构建项目为例</strong>：Vue3 刚发布的时候，很多项目都是使用 <strong>Vue CLI 工具构建</strong>。虽然 Vue3.2 已经发布很久，但是目前的 CLI 工具构建出来的 Vue 项目依旧是 Vue3.0.0 版本（当然现在 Vue3 推荐的构建工具是 Vite）</p><ul><li>升级依赖包 <code>vue</code> 和 编译器 <code>@vue/compiler-sfc</code>。 升级到最新的 Vue 版本，进入 VUE 官网查看 vue3 最新稳定版本（当前是<code>v3.2.36</code>）</li></ul><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 使用yarn更新到vue指定版本</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">upgrade</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vue@3.2.36</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 更新到vue指定版本</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">upgrade</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@vue/compiler-sfc@3.2.36</span></span>
<span class="line"></span></code></pre></div><ul><li>如果使用了<code>eslint-plugin-vue</code>，需要更新到新版以正确的检查 vue3 语法。</li></ul><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 更新到 eslint-plugin-vue 指定版本</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">upgrade</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint-plugin-vue@9.2.0</span></span>
<span class="line"></span></code></pre></div><ul><li>在 VSCode 开发，更新 VSCode 插件 <code>Vue Language Features (Volar) </code>。Volar 插件部分推荐设置如下：</li></ul><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// \`&lt;script setup&gt;\`语法糖转换，开启后在vue文件中转换为语法糖写法</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">volar.codeLens.scriptSetupTools</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">true</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 关闭代码行参考，简洁vue文件提示</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">volar.codeLens.references</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">false</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 标题首选驼峰命名规则</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">volar.completion.preferredAttrNameCase</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">auto-camel</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h2 id="结语" tabindex="-1">结语 <a class="header-anchor" href="#结语" aria-hidden="true">#</a></h2><p>如果没有其他特殊的依赖项和需求，以上几个完成后就能正常运行基于 Vue3.2 项目啦。</p><p>博观而约取，厚积而薄发。😄 收藏+点赞+关注</p><blockquote><p><strong>转载声明</strong>： 请注明作者，注明原文链接，有疑问致邮 <a href="mailto:kingwyh1993@163.com" target="_blank" rel="noreferrer">kingwyh1993@163.com</a></p></blockquote>`,21),o=[p];function t(c,r,i,u,d,y){return a(),n("div",null,o)}const F=s(l,[["render",t]]);export{C as __pageData,F as default};
