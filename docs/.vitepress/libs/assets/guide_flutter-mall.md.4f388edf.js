import{_ as s,o as n,c as a,d as l}from"./app.a8fbd689.js";const C=JSON.parse('{"title":"Flutter 2 \u5546\u57CEApp\u5B9E\u6218\u6307\u5357\uFF08\u652F\u6301Null safety\uFF09","description":"","frontmatter":{"title":"Flutter 2 \u5546\u57CEApp\u5B9E\u6218\u6307\u5357\uFF08\u652F\u6301Null safety\uFF09"},"headers":[{"level":2,"title":"\u9605\u8BFB\u6587\u7AE0\u4F60\u5C06\u6536\u83B7","slug":"\u9605\u8BFB\u6587\u7AE0\u4F60\u5C06\u6536\u83B7"},{"level":2,"title":"Flutter \u5F00\u53D1\u73AF\u5883\u642D\u5EFA","slug":"flutter-\u5F00\u53D1\u73AF\u5883\u642D\u5EFA"},{"level":2,"title":"\u9879\u76EE\u521B\u5EFA\u4E0E\u8FD0\u884C","slug":"\u9879\u76EE\u521B\u5EFA\u4E0E\u8FD0\u884C"},{"level":2,"title":"\u81EA\u5B9A\u4E49\u9879\u76EE\u4E3B\u9898","slug":"\u81EA\u5B9A\u4E49\u9879\u76EE\u4E3B\u9898"},{"level":2,"title":"Flutter \u8DEF\u7531\u914D\u7F6E","slug":"flutter-\u8DEF\u7531\u914D\u7F6E"},{"level":2,"title":"\u7F51\u7EDC\u8BF7\u6C42\u4E0E\u6570\u636E\u6A21\u578B","slug":"\u7F51\u7EDC\u8BF7\u6C42\u4E0E\u6570\u636E\u6A21\u578B"},{"level":3,"title":"Http \u8BF7\u6C42","slug":"http-\u8BF7\u6C42"},{"level":3,"title":"Json to Dart","slug":"json-to-dart"},{"level":2,"title":"SVG \u56FE\u6807\u7684\u4F7F\u7528","slug":"svg-\u56FE\u6807\u7684\u4F7F\u7528"},{"level":2,"title":"\u7011\u5E03\u6D41\u5E03\u5C40","slug":"\u7011\u5E03\u6D41\u5E03\u5C40"},{"level":2,"title":"\u8D2D\u7269\u8F66\u529F\u80FD","slug":"\u8D2D\u7269\u8F66\u529F\u80FD"},{"level":3,"title":"\u521B\u5EFA\u8D2D\u7269\u8F66\u6570\u636E\u6A21\u578B","slug":"\u521B\u5EFA\u8D2D\u7269\u8F66\u6570\u636E\u6A21\u578B"},{"level":3,"title":"\u8D2D\u7269\u8F66\u72B6\u6001\u7BA1\u7406","slug":"\u8D2D\u7269\u8F66\u72B6\u6001\u7BA1\u7406"},{"level":3,"title":"\u52A0\u5165\u8D2D\u7269\u8F66","slug":"\u52A0\u5165\u8D2D\u7269\u8F66"},{"level":3,"title":"\u8D2D\u7269\u8F66\u672C\u5730\u5B58\u50A8","slug":"\u8D2D\u7269\u8F66\u672C\u5730\u5B58\u50A8"},{"level":2,"title":"\u9879\u76EE App \u6253\u5305","slug":"\u9879\u76EE-app-\u6253\u5305"},{"level":3,"title":"\u6253\u5305 apk \u6307\u4EE4","slug":"\u6253\u5305-apk-\u6307\u4EE4"},{"level":3,"title":"\u5E94\u7528\u540D\u79F0\u4FEE\u6539","slug":"\u5E94\u7528\u540D\u79F0\u4FEE\u6539"},{"level":3,"title":"\u5E94\u7528\u56FE\u6807\u4FEE\u6539","slug":"\u5E94\u7528\u56FE\u6807\u4FEE\u6539"},{"level":3,"title":"\u542F\u52A8\u9875\u56FE\u7247","slug":"\u542F\u52A8\u9875\u56FE\u7247"},{"level":3,"title":"\u5B89\u5353 App \u7B7E\u540D","slug":"\u5B89\u5353-app-\u7B7E\u540D"},{"level":3,"title":"\u5176\u4ED6\u6253\u5305\u6CE8\u610F\u4E8B\u9879","slug":"\u5176\u4ED6\u6253\u5305\u6CE8\u610F\u4E8B\u9879"},{"level":2,"title":"\u7ED3\u8BED","slug":"\u7ED3\u8BED"}],"relativePath":"guide/flutter-mall.md","lastUpdated":1658894796000}'),p={name:"guide/flutter-mall.md"},o=l(`<h1 id="flutter-2-\u5546\u57CE-app-\u5B9E\u6218\u6307\u5357\uFF08\u652F\u6301-null-safety\uFF09" tabindex="-1">Flutter 2 \u5546\u57CE App \u5B9E\u6218\u6307\u5357\uFF08\u652F\u6301 Null safety\uFF09 <a class="header-anchor" href="#flutter-2-\u5546\u57CE-app-\u5B9E\u6218\u6307\u5357\uFF08\u652F\u6301-null-safety\uFF09" aria-hidden="true">#</a></h1><blockquote><p><code>flutter</code> \u4ECE\u96F6\u5F00\u53D1\u4E00\u4E2A\u7535\u5B50\u5546\u57CE APP\uFF0C\u4E00\u5957\u4EE3\u7801\u5E93\u53EF\u4EE5\u9AD8\u6548\u6784\u5EFA\u591A\u5E73\u53F0\u7CBE\u7F8E\u5E94\u7528\uFF08\u5305\u62EC\u5B89\u5353 App/\u82F9\u679C IOSApp/\u82F9\u679C mac \u5E94\u7528/windows \u5E94\u7528\uFF09</p></blockquote><h2 id="\u9605\u8BFB\u6587\u7AE0\u4F60\u5C06\u6536\u83B7" tabindex="-1">\u9605\u8BFB\u6587\u7AE0\u4F60\u5C06\u6536\u83B7 <a class="header-anchor" href="#\u9605\u8BFB\u6587\u7AE0\u4F60\u5C06\u6536\u83B7" aria-hidden="true">#</a></h2><p>\u6587\u7AE0\u4E3B\u8981\u9488\u5BF9 flutter \u5F00\u53D1\u5B9E\u6218\uFF0C\u8BE6\u7EC6\u63CF\u8FF0 <strong>\u4E3B\u8981\u77E5\u8BC6\u70B9</strong> \u5728\u5B9E\u6218\u4E2D\u7684\u8FD0\u7528\u3002\u5E0C\u671B\u5927\u5BB6\u5728\u5B9E\u6218\u4E2D\u52BF\u5982\u7834\u7AF9\uFF0C\u5F97\u5FC3\u5E94\u624B\u3002\uFF08\u4E0B\u56FE\u4E3A\u672C\u9879\u76EE\u6240\u6709\u77E5\u8BC6\u70B9\u68B3\u7406\uFF09</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9125d56f8ac446ebb0474368ee63241f~tplv-k3u1fbpfcp-watermark.image?" alt="\u5546\u57CE\u601D\u7EF4\u5BFC\u56FE.jpg"></p><ul><li><strong>\u9879\u76EE\u81EA\u5B9A\u4E49\u4E3B\u9898</strong>\uFF1A\u521B\u5EFA\u81EA\u5B9A\u4E49\u4E3B\u9898\u7C7B\uFF0C\u8BBE\u5B9A\u9879\u76EE UI \u989C\u8272\uFF0C\u81EA\u5B9A\u4E49\u5404\u7C7B\u6587\u5B57\u6837\u5F0F\uFF0C\u65B9\u4FBF\u7EDF\u4E00\u9879\u76EE UI\uFF0C\u7075\u6D3B\u5E03\u5C40\u3002</li><li><strong>Flutter \u8DEF\u7531</strong>\uFF1A\u9879\u76EE\u4E0D\u53EF\u6216\u7F3A\u7684\u90E8\u5206\uFF0C\u5404\u9875\u9762\u4E4B\u95F4\u8DF3\u8F6C\u3002</li><li><strong>SVG \u56FE\u6807\u7684\u4F7F\u7528</strong>\uFF1A\u4F7F\u7528\u7CBE\u7F8E\u7684 svg \u56FE\u6807\uFF0C\u591A\u4E00\u4EFD\u70ED\u7231\uFF0C\u591A\u4E00\u4EFD\u8272\u5F69\u3002</li><li><strong>\u7011\u5E03\u6D41\u5E03\u5C40</strong>\uFF1A\u5546\u54C1\u5217\u8868\u4F7F\u7528\u7011\u5E03\u6D41\u5E03\u5C40\uFF0C\u5B8C\u7F8E\u534F\u8C03\u5217\u8868\u9879\u3002</li><li><strong>Flutter \u6570\u636E\u6A21\u578B</strong>\uFF1A\u8BA9\u6570\u636E\u53EF\u7528\u6027\u66F4\u597D\uFF0CJSON \u4E0E\u6570\u636E\u6A21\u578B\u8F6C\u6362\uFF0C\u4EE5\u4FBF\u5728\u9879\u76EE\u4E2D\u4F7F\u7528\u5404\u7C7B\u6570\u636E\u3002</li><li><strong>\u8D2D\u7269\u8F66\u529F\u80FD</strong>\uFF1A\u4E70\u4E0D\u4E70\u5C31\u770B\u8D2D\u7269\u8F66\u723D\u4E0D\u723D\u3002\u8D2D\u7269\u8F66\u589E\u5220\u6539\u67E5\u7684\u5B9E\u73B0\uFF0C\u8D2D\u7269\u8F66\u5546\u54C1\u672C\u5730\u6301\u4E45\u5316\u5B58\u50A8\u3002</li><li><strong>\u9879\u76EE App \u6253\u5305</strong>\uFF1A\u5E94\u7528\u6253\u5305\u548C\u5176\u4ED6\u6CE8\u610F\u4E8B\u9879\u3002</li><li><strong>\u4E00\u4E2A\u5B8C\u6574\u7684\u5546\u57CE App \u5F00\u53D1\u80FD\u529B</strong></li></ul><h2 id="flutter-\u5F00\u53D1\u73AF\u5883\u642D\u5EFA" tabindex="-1">Flutter \u5F00\u53D1\u73AF\u5883\u642D\u5EFA <a class="header-anchor" href="#flutter-\u5F00\u53D1\u73AF\u5883\u642D\u5EFA" aria-hidden="true">#</a></h2><p>\u9879\u76EE\u4F7F\u7528 <code>Flutter 2.10.2</code> \u7248\u672C\uFF0C\u60A8\u53EF\u4F7F\u7528 &gt;=2.x \u7684\u7248\u672C\uFF1A</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Flutter </span><span style="color:#F78C6C;">2.10</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> \u2022 channel stable \u2022 https:</span><span style="color:#676E95;font-style:italic;">//github.com/flutter/flutter.git</span></span>
<span class="line"><span style="color:#A6ACCD;">Framework \u2022 revision </span><span style="color:#F78C6C;">097</span><span style="color:#A6ACCD;">d</span><span style="color:#F78C6C;">3313</span><span style="color:#A6ACCD;">d</span><span style="color:#F78C6C;">8</span></span>
<span class="line"><span style="color:#A6ACCD;">Engine \u2022 revision a</span><span style="color:#F78C6C;">83</span><span style="color:#A6ACCD;">ed</span><span style="color:#F78C6C;">0e5</span><span style="color:#A6ACCD;">e</span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#A6ACCD;">Tools \u2022 Dart </span><span style="color:#F78C6C;">2.16</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> \u2022 DevTools </span><span style="color:#F78C6C;">2.9</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">2</span></span>
<span class="line"></span></code></pre></div><ol><li><p>\u9009\u62E9\u8981\u5B89\u88C5 Flutter \u7684\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u5E76\u6309\u7167\u5B98\u65B9\u64CD\u4F5C\u6D41\u7A0B\u8FDB\u884C Flutter \u73AF\u5883\u7684\u5B89\u88C5\u53CA\u9A8C\u8BC1\uFF1A</p><ul><li>Flutter \u5B98\u7F51\uFF1A<a href="https://docs.flutter.dev/get-started/install" target="_blank" rel="noopener noreferrer">https://docs.flutter.dev/get-started/install</a></li><li>Flutter \u4E2D\u6587\u5B98\u7F51\uFF1A<a href="https://flutter.cn/docs/get-started/install" target="_blank" rel="noopener noreferrer">https://flutter.cn/docs/get-started/install</a></li></ul></li><li><p>\u5728 VS Code \u4E2D\u5F00\u53D1\uFF08\u4E2A\u4EBA\u5EFA\u8BAE\u4F7F\u7528\u8F7B\u91CF\u7684 vscode \u5F00\u53D1\uFF09</p><ul><li>\u914D\u7F6E\u7F16\u8F91\u5668\uFF1A<a href="https://flutter.cn/docs/get-started/editor?tab=vscode" target="_blank" rel="noopener noreferrer">https://flutter.cn/docs/get-started/editor?tab=vscode</a></li></ul></li></ol><h2 id="\u9879\u76EE\u521B\u5EFA\u4E0E\u8FD0\u884C" tabindex="-1">\u9879\u76EE\u521B\u5EFA\u4E0E\u8FD0\u884C <a class="header-anchor" href="#\u9879\u76EE\u521B\u5EFA\u4E0E\u8FD0\u884C" aria-hidden="true">#</a></h2><p><strong>\u9879\u76EE\u521B\u5EFA\uFF1A</strong></p><p>\u5728\u60A8\u7684\u5DE5\u4F5C\u76EE\u5F55\u4E2D\u4F7F\u7528\u547D\u4EE4\u884C\u5DE5\u5177\uFF1A</p><div class="language-sh"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">flutter create flutter_demo</span></span>
<span class="line"></span></code></pre></div><p><code>flutter_demo</code> \u662F\u9879\u76EE\u540D\u79F0\uFF08\u66FF\u6362\u4E3A\u4F60\u7684\u9879\u76EE\u540D\u79F0\uFF09\uFF0C\u5B98\u65B9\u5EFA\u8BAE\u6587\u4EF6\u540D\u79F0\u4EE5\u4E0B\u5212\u7EBF\u547D\u540D\u65B9\u5F0F\u3002</p><p><strong>\u9879\u76EE\u76EE\u5F55\u7ED3\u6784\uFF1A</strong></p><div class="language-js"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">\u251C\u2500assets             </span><span style="color:#676E95;font-style:italic;">// \u9759\u6001\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500lib                </span><span style="color:#676E95;font-style:italic;">// \u4E3B\u8981\u5DE5\u4F5C\u76EE\u5F55\uFF0C\u7F16\u5199\u5927\u90E8\u5206\u4EE3\u7801\u653E\u5728\u8FD9\u91CC</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502  \u251C\u2500apis            </span><span style="color:#676E95;font-style:italic;">// api \u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502  \u251C\u2500components      </span><span style="color:#676E95;font-style:italic;">// \u516C\u5171\u7EC4\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502  \u251C\u2500models          </span><span style="color:#676E95;font-style:italic;">// \u6570\u636E\u6A21\u578B</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502  \u251C\u2500router          </span><span style="color:#676E95;font-style:italic;">// \u9879\u76EE\u8DEF\u7531</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502  \u251C\u2500utils           </span><span style="color:#676E95;font-style:italic;">// \u5DE5\u5177\u7C7B\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502  \u251C\u2500views           </span><span style="color:#676E95;font-style:italic;">// \u5546\u57CE\u9875\u9762UI</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502  \u251C\u2500widgets         </span><span style="color:#676E95;font-style:italic;">// \u4E1A\u52A1\u76F8\u5173\u7EC4\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502  \u251C\u2500app_theme</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">dart  </span><span style="color:#676E95;font-style:italic;">// \u81EA\u5B9A\u4E49\u4E3B\u9898\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">\u2502  \u2514\u2500mian</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">js         </span><span style="color:#676E95;font-style:italic;">// \u9879\u76EE\u5165\u53E3\u6587\u4EF6</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500android            </span><span style="color:#676E95;font-style:italic;">// android \u7F16\u8BD1\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500ios                </span><span style="color:#676E95;font-style:italic;">// ios \u7F16\u8BD1\u76EE\u5F55</span></span>
<span class="line"><span style="color:#A6ACCD;">\u251C\u2500pubspec</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">yaml       </span><span style="color:#676E95;font-style:italic;">// \u9879\u76EE\u914D\u7F6E\u6587\u4EF6</span></span>
<span class="line"></span></code></pre></div><p><strong>\u8FD0\u884C\u9879\u76EE\uFF1A</strong></p><ul><li><p>\u51C6\u5907\u865A\u62DF\u673A</p><ul><li>mac \u7535\u8111\u53EF\u5728\u7EC8\u7AEF\u6267\u884C <code>$ open -a Simulator</code> \u6253\u5F00 iphone \u865A\u62DF\u673A</li><li>\u5B89\u88C5\u6709 Android Studio \u7684\u540C\u5B66\u53EF\u4EE5\u5728 Android Studio \u4E2D\u6253\u5F00 \u5B89\u5353\u865A\u62DF\u673A</li><li>\u65E0\u865A\u62DF\u673A\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528 web \u6D4F\u89C8\u5668\u6A21\u5F0F\u8FD0\u884C\u5F00\u53D1</li></ul></li><li><p>\u5728\u7EC8\u7AEF\u6267\u884C\u6307\u4EE4 <code>flutter run</code> \u8FD0\u884C\u9879\u76EE</p></li></ul><h2 id="\u81EA\u5B9A\u4E49\u9879\u76EE\u4E3B\u9898" tabindex="-1">\u81EA\u5B9A\u4E49\u9879\u76EE\u4E3B\u9898 <a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u9879\u76EE\u4E3B\u9898" aria-hidden="true">#</a></h2><p>\u521B\u5EFA\u81EA\u5B9A\u4E49\u4E3B\u9898\u7C7B\uFF0C\u8BBE\u5B9A\u9879\u76EE UI \u989C\u8272\uFF0C\u81EA\u5B9A\u4E49\u5404\u7C7B\u6587\u5B57\u6837\u5F0F\uFF0C\u65B9\u4FBF\u7EDF\u4E00\u9879\u76EE UI\uFF0C\u7075\u6D3B\u5E03\u5C40\u3002</p><p><strong>\u7F16\u5199\u4E3B\u9898\u7C7B\uFF1A</strong></p><p>\u521B\u5EFA\u6587\u4EF6 <code>lib/app_theme.dart</code>, \u521B\u5EFA <code>AppTheme</code>\u7C7B\u5E76\u8BBE\u8BA1\u4E3B\u9898\u989C\u8272\u548C\u6587\u5B57\u6837\u5F0F</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:flutter/material.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">AppTheme</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  AppTheme</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">_</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u989C\u8272\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> const Color </span><span style="color:#F07178;">notWhite</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">Color</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0xFFECF0EF</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> const Color </span><span style="color:#F07178;">nearlyWhite</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">Color</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0xFFFFFFFF</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u6587\u5B57\u6837\u5F0F</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> const TextTheme </span><span style="color:#F07178;">textTheme</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">TextTheme</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    headline4: display1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    headline5: headline</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    headline6: title</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    subtitle2: subtitle</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    bodyText1: body1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    bodyText2: body2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// bodyText2: flutter\u9ED8\u8BA4\u6587\u5B57\u6837\u5F0F</span></span>
<span class="line"><span style="color:#A6ACCD;">    caption: caption</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> const TextStyle </span><span style="color:#F07178;">display1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">TextStyle</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    fontFamily: fontName</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    fontWeight: FontWeight</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">bold</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    fontSize: </span><span style="color:#F78C6C;">36</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    letterSpacing: </span><span style="color:#F78C6C;">0.5</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    height: </span><span style="color:#F78C6C;">0.9</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    color: darkerText</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><strong>\u5F15\u5165\u5E76\u4F7F\u7528\u4E3B\u9898\uFF1A</strong> <code>main.dart</code> \u5165\u53E3\u6587\u4EF6\u4E2D\u5F15\u5165\u4E3B\u9898\u7C7B\u5E76\u4F7F\u7528</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:shopping_mall/app_theme.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">override</span></span>
<span class="line"><span style="color:#A6ACCD;">Widget </span><span style="color:#82AAFF;">build</span><span style="color:#A6ACCD;">(BuildContext context) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">MaterialApp</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">title</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u9752\u5C71\u5546\u57CE</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">debugShowCheckedModeBanner</span><span style="color:#F07178;">: </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// \u4E3B\u9898\u914D\u7F6E</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">theme</span><span style="color:#F07178;">: </span><span style="color:#82AAFF;">ThemeData</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">primarySwatch</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Colors</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">teal</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">fontFamily</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">AppTheme</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">fontName</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// \u9ED8\u8BA4\u5B57\u4F53</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">textTheme</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">AppTheme</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">textTheme</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// \u6587\u5B57\u4E3B\u9898</span></span>
<span class="line"><span style="color:#F07178;">      )</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">onGenerateRoute</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">onGenerateRoute</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">initialRoute</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">home</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">const</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">AppHomeScreen</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><strong>\u8BBE\u7F6E\u72B6\u6001\u680F\u6837\u5F0F\uFF1A</strong> <code>main.dart</code> \u5165\u53E3\u6587\u4EF6\u4E2D\u4F7F\u7528 <code>setSystemUIOverlayStyle</code></p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() async </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">WidgetsFlutterBinding</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">ensureInitialized</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u8BBE\u7F6E\u72B6\u6001\u680F</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">SystemChrome</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setSystemUIOverlayStyle</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">SystemUiOverlayStyle</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u9876\u90E8\u72B6\u6001\u680F\u989C\u8272</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">statusBarColor</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Colors</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">transparent</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u9876\u90E8\u72B6\u6001\u680F\u56FE\u6807\u7684\u4EAE\u5EA6</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">statusBarIconBrightness</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Brightness</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">dark</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u9876\u90E8\u72B6\u6001\u680F\u7684\u4EAE\u5EA6</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">statusBarBrightness</span><span style="color:#F07178;">:</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">kIsWeb</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Platform</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isAndroid</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Brightness</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">dark</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Brightness</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">light</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u7CFB\u7EDF\u5E95\u90E8\u5BFC\u822A\u680F\u7684\u989C\u8272</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">systemNavigationBarColor</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Colors</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">white</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u7CFB\u7EDF\u5E95\u90E8\u5BFC\u822A\u680F\u5206\u5272\u7EBF\u989C\u8272</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">systemNavigationBarDividerColor</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Colors</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">transparent</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u7CFB\u7EDF\u5BFC\u822A\u680F\u56FE\u6807\u7684\u4EAE\u5EA6</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">systemNavigationBarIconBrightness</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Brightness</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">dark</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  ))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u8BBE\u7F6E\u8BBE\u5907\u65B9\u5411</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">SystemChrome</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setPreferredOrientations</span><span style="color:#F07178;">(&lt;</span><span style="color:#FFCB6B;">DeviceOrientation</span><span style="color:#F07178;">&gt;[</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">DeviceOrientation</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">portraitUp</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">DeviceOrientation</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">portraitDown</span></span>
<span class="line"><span style="color:#F07178;">  ])</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">_</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">runApp</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">const</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">ProviderScope</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">child</span><span style="color:#F07178;">: </span><span style="color:#82AAFF;">MyApp</span><span style="color:#F07178;">())))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="flutter-\u8DEF\u7531\u914D\u7F6E" tabindex="-1">Flutter \u8DEF\u7531\u914D\u7F6E <a class="header-anchor" href="#flutter-\u8DEF\u7531\u914D\u7F6E" aria-hidden="true">#</a></h2><p><strong>\u65B0\u5EFA <code>lib/routers/routes.dart</code> \u6587\u4EF6\uFF1A</strong></p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:flutter/material.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:shopping_mall/views/detail/detail_index.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:shopping_mall/views/goods/goods_list_index.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// \u8DEF\u7531\u751F\u6210\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">Route </span><span style="color:#82AAFF;">onGenerateRoute</span><span style="color:#A6ACCD;">(RouteSettings settings) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">switch</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">settings</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/detail</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">MaterialPageRoute</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">builder</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">_</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">const</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">DetailIndex</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">settings</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">settings</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">case</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/goods</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">MaterialPageRoute</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">builder</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">_</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">const</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">GoodsListIndex</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">settings</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">settings</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><strong><code>mian.dart</code> \u4E2D\u4F7F\u7528\u8DEF\u7531\u751F\u6210\u5668\u5C5E\u6027 <code>onGenerateRoute</code>:</strong></p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">MaterialApp</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  title: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u9752\u5C71\u5546\u57CE</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u8DEF\u7531\u751F\u6210\u5668</span></span>
<span class="line"><span style="color:#A6ACCD;">  onGenerateRoute: onGenerateRoute</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u521D\u59CB\u8DEF\u7531\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#A6ACCD;">  initialRoute: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  home: const </span><span style="color:#82AAFF;">AppHomeScreen</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p><strong>\u8DEF\u7531\u8DF3\u8F6C\u4E0E\u4F20\u53C2\uFF1A</strong></p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u8DF3\u8F6C\u5230\u8BE6\u60C5\u9875\uFF0C\u4F20\u53C2\u5546\u54C1id</span></span>
<span class="line"><span style="color:#A6ACCD;">Navigator</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">of</span><span style="color:#A6ACCD;">(context)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pushNamed</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/detail</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> arguments: </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> goods</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u8DF3\u8F6C\u5230\u9996\u9875\uFF0C\u4F20\u53C2\u5546\u54C1tab\uFF0C\u5E76\u79FB\u9664\u5386\u53F2\u8DEF\u7531</span></span>
<span class="line"><span style="color:#A6ACCD;">Navigator</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">of</span><span style="color:#A6ACCD;">(context)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pushNamedAndRemoveUntil</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">route</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    arguments: </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">tab</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u9875\u9762\u83B7\u53D6\u4F20\u8FC7\u6765\u7684\u53C2\u6570</span></span>
<span class="line"><span style="color:#FFCB6B;">Map</span><span style="color:#A6ACCD;"> args </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ModalRoute</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">of</span><span style="color:#A6ACCD;">(context)</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">settings</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">arguments </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Map</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">int id </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> args[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u7F51\u7EDC\u8BF7\u6C42\u4E0E\u6570\u636E\u6A21\u578B" tabindex="-1">\u7F51\u7EDC\u8BF7\u6C42\u4E0E\u6570\u636E\u6A21\u578B <a class="header-anchor" href="#\u7F51\u7EDC\u8BF7\u6C42\u4E0E\u6570\u636E\u6A21\u578B" aria-hidden="true">#</a></h2><h3 id="http-\u8BF7\u6C42" tabindex="-1">Http \u8BF7\u6C42 <a class="header-anchor" href="#http-\u8BF7\u6C42" aria-hidden="true">#</a></h3><p>\u4F7F\u7528 <code>dio</code> \u5E93\uFF0Cdio \u5C01\u88C5\u67E5\u770B: <a href="https://gitee.com/jsdawn/flutter_dio_util" target="_blank" rel="noopener noreferrer">flutter_dio_util</a></p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u7B80\u5355\u4F7F\u7528</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:dio/dio.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() async </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dio</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Dio</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">final</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">response</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dio</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://google.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">print</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">response</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// response.data \u8FD9\u91CC\u8FD4\u56DE\u7684\u662Fjson\u5B57\u7B26\u4E32\uFF0C\u53EF\u4F7F\u7528 data[&#39;name&#39;] \u83B7\u53D6\u503C</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u8981\u60F3\u50CF Object \u4E00\u6837\u4F7F\u7528 data.name \u83B7\u53D6\u3002\u9700\u8981\u8F6C\u6362\u4E3ADart\u6A21\u578B\uFF08Json to Dart\uFF09</span></span>
<span class="line"></span></code></pre></div><h3 id="json-to-dart" tabindex="-1">Json to Dart <a class="header-anchor" href="#json-to-dart" aria-hidden="true">#</a></h3><p>\u5047\u5982\u6709\u5982\u4E0B <code>Person</code> Json \u6570\u636E</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">jsdawn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">gender</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u4F7F\u7528 <a href="https://app.quicktype.io/" target="_blank" rel="noopener noreferrer">quicktype</a> \u5C06 Json \u5FEB\u901F\u8F6C\u6362 \u4E3A Dart \u6A21\u578B <code>person.dart</code></p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// To parse this JSON data, do</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//     final person = personFromJson(jsonString);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dart:convert</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u5B57\u7B26\u4E32\u8F6C\u4E3A\`Person\`\u6A21\u578B</span></span>
<span class="line"><span style="color:#A6ACCD;">Person </span><span style="color:#82AAFF;">personFromJson</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> str) </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> Person</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fromJson</span><span style="color:#A6ACCD;">(json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">decode</span><span style="color:#A6ACCD;">(str))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \`Person\`\u6570\u636E\u8F6C\u4E3A\u5B57\u7B26\u4E32</span></span>
<span class="line"><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">personToJson</span><span style="color:#A6ACCD;">(Person data) </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">encode</span><span style="color:#A6ACCD;">(data</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toJson</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">Person</span><span style="color:#89DDFF;">({</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.name</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.age</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        this.gender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    int </span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">gender</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// json\u4E2D\u5B57\u6BB5\u4E0D\u53EF\u5C11\uFF0C\u5426\u5219\u9700\u8981\u5224\u7A7A\uFF1Ajson[&quot;name&quot;] ?? &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    factory Person</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fromJson</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">Map</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> dynamic</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> json) </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Person</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">        name: json[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        age: json[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        gender: json[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">gender</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">Map</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">String</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> dynamic</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">toJson</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">age</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">gender</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">gender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u5728 flutter \u4E2D\u4F7F\u7528\uFF1A</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u8FD9\u91CC DefaultAssetBundle \u7684 loadString \u52A0\u8F7D Json \u6587\u4EF6\uFF0C\u6A21\u62DF\u63A5\u53E3\u8C03\u7528</span></span>
<span class="line"><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> jsonString </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> DefaultAssetBundle</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">of</span><span style="color:#A6ACCD;">(context)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">loadString</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">assets/json/data.json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u5B57\u7B26\u4E32\u8F6C\u4E3A Dart Model</span></span>
<span class="line"><span style="color:#A6ACCD;">final person </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">personFromJson</span><span style="color:#A6ACCD;">(jsonString)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">print</span><span style="color:#A6ACCD;">(person</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// jsdawn</span></span>
<span class="line"></span></code></pre></div><h2 id="svg-\u56FE\u6807\u7684\u4F7F\u7528" tabindex="-1">SVG \u56FE\u6807\u7684\u4F7F\u7528 <a class="header-anchor" href="#svg-\u56FE\u6807\u7684\u4F7F\u7528" aria-hidden="true">#</a></h2><p>\u4F7F\u7528\u7CBE\u7F8E\u7684 svg \u56FE\u6807\uFF0C\u591A\u4E00\u4EFD\u70ED\u7231\uFF0C\u591A\u4E00\u4EFD\u8272\u5F69\u3002</p><p><strong>\u5F15\u5165\u56FE\u6807\u8D44\u6E90\uFF1A</strong></p><p>\u4ECE \xA0<a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer">iconfont.cn</a>\xA0 \u4E0B\u8F7D\u56FE\u6807\u7684 svg \u6587\u4EF6\uFF0C\u653E\u5165<code>assets/svg</code>\u76EE\u5F55\u3002\u5728 <code>pubspec.yaml</code> \u4E2D\u914D\u7F6E\u9759\u6001\u8D44\u6E90\uFF1A</p><div class="language-yaml"><span class="copy"></span><pre><code><span class="line"><span style="color:#F07178;">assets</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">assets/svg/</span></span>
<span class="line"></span></code></pre></div><p><strong>\u5F15\u5165<code>flutter_svg</code>\u63D2\u4EF6\u5E76\u4F7F\u7528\uFF1A</strong></p><p>\u5728\u9879\u76EE\u7EC8\u7AEF\u6267\u884C\u6307\u4EE4 <code>flutter pub add flutter_svg</code> \u4E0B\u8F7D\u63D2\u4EF6\u3002\u5728\u9875\u9762\u4E2D\u4F7F\u7528\uFF0C\u4EE5\u9996\u9875\u5546\u54C1\u7C7B\u578B\u4E3A\u4F8B</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:flutter_svg/svg.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">Padding</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    padding: const EdgeInsets</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">symmetric</span><span style="color:#A6ACCD;">(vertical: </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// SvgPicture.asset \u52A0\u8F7Dsvg\u9759\u6001\u8D44\u6E90</span></span>
<span class="line"><span style="color:#A6ACCD;">    child: SvgPicture</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">asset</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">assets/svg/category_phone.svg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> height: </span><span style="color:#F78C6C;">35</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span></code></pre></div><h2 id="\u7011\u5E03\u6D41\u5E03\u5C40" tabindex="-1">\u7011\u5E03\u6D41\u5E03\u5C40 <a class="header-anchor" href="#\u7011\u5E03\u6D41\u5E03\u5C40" aria-hidden="true">#</a></h2><p>\u5546\u54C1\u5217\u8868\u9879\u7684\u9AD8\u5EA6\u53EF\u80FD\u4E0D\u540C\uFF0C\u6BD4\u5982\u6807\u9898\u6709\u4E00\u884C\u4E5F\u6709\u4E24\u884C\u3002\u4F7F\u7528\u7011\u5E03\u6D41\u5E03\u5C40\uFF0C\u53EF\u5B8C\u7F8E\u534F\u8C03\u5404\u5757\u7684\u9AD8\u5EA6\u3002</p><p><strong>\u5982\u4F55\u6311\u9009\u63D2\u4EF6\uFF1A</strong></p><p>\u5728 flutter \u63D2\u4EF6\u5E02\u573A <a href="https://pub.flutter-io.cn/" target="_blank" rel="noopener noreferrer">pub.dev</a> \u4E2D\u641C\u7D22\u7011\u5E03\u6D41\u5E03\u5C40\u63D2\u4EF6\uFF0C\u4F60\u627E\u5230\u7684\u53EF\u80FD\u4F1A\u5F88\u591A\uFF0C\u5982\u4F55\u6311\u9009\u6700\u9002\u5408\u5F53\u524D\u9879\u76EE\u7684\u5462\uFF1F</p><p>\u6BD4\u5982\u6211\u4EEC\u9879\u76EE\u5F00\u53D1\u73AF\u5883\u662F <code>flutter v2.x</code> \u7248\u672C\uFF0C\u8BE5\u7248\u672C\u6700\u5927\u7684\u7279\u70B9\u662F\u652F\u6301 <code>Null Safety</code>\u3002\u6240\u4EE5\u9996\u5148\u9700\u8981\u652F\u6301 <code>Null Safety</code>\uFF0C\u7136\u540E\u6311\u9009 <code>LIKES</code> \u6570\u91CF\u591A\u5E76\u4E14\u7B26\u5408\u7011\u5E03\u6D41\u9700\u6C42\u7684\u63D2\u4EF6\u3002</p><p><strong>\u5F15\u5165\u63D2\u4EF6\u5E76\u4F7F\u7528\uFF1A</strong></p><p>\u5728\u9879\u76EE\u7EC8\u7AEF\u6267\u884C\u6307\u4EE4 <code>flutter pub add flutter_staggered_grid_view</code> \u4E0B\u8F7D\u63D2\u4EF6\u3002\u5728\u9879\u76EE\u4E2D\u4F7F\u7528\u7011\u5E03\u6D41\u5E03\u5C40\u7F16\u5199\u5546\u54C1\u5217\u8868\u7EC4\u4EF6</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:flutter_staggered_grid_view/flutter_staggered_grid_view.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">override</span></span>
<span class="line"><span style="color:#A6ACCD;">Widget </span><span style="color:#82AAFF;">build</span><span style="color:#A6ACCD;">(BuildContext context) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u4F7F\u7528\u63D2\u4EF6\u7684 MasonryGridView \u7C7B\u7F16\u5199\u7011\u5E03\u6D41\u5E03\u5C40</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">MasonryGridView</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">count</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">controller</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">_scrollController</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">padding</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">widget</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isNotEmpty</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">EdgeInsets</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">symmetric</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">vertical</span><span style="color:#F07178;">: </span><span style="color:#F78C6C;">12</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">shrinkWrap</span><span style="color:#F07178;">: </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">physics</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">const</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">NeverScrollableScrollPhysics</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">crossAxisCount</span><span style="color:#F07178;">: </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// \u5217\u7684\u6570\u91CF</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">mainAxisSpacing</span><span style="color:#F07178;">: </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// \u4E3B\u8F74\u9879\u4E4B\u95F4\u7684\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">crossAxisSpacing</span><span style="color:#F07178;">: </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// \u4EA4\u53C9\u8F74\u9879\u4E4B\u95F4\u7684\u8DDD\u79BB</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">itemCount</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">widget</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// \u5217\u8868\u9879\u751F\u6210\u5668</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">itemBuilder</span><span style="color:#F07178;">: (</span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        return GoodsListItem</span><span style="color:#89DDFF;">(</span><span style="color:#F07178;">widget.list</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">])</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u8D2D\u7269\u8F66\u529F\u80FD" tabindex="-1">\u8D2D\u7269\u8F66\u529F\u80FD <a class="header-anchor" href="#\u8D2D\u7269\u8F66\u529F\u80FD" aria-hidden="true">#</a></h2><p>\u8D2D\u7269\u8F66\u7B97\u662F\u5546\u57CE\u7684\u6838\u5FC3\u529F\u80FD\u4E4B\u4E00\uFF0C\u4E5F\u6709\u8F83\u590D\u6742\u7684\u903B\u8F91\u3002</p><ol><li>\u552F\u4E00\u6027\uFF1A\u540C\u4E00\u4EF6\u5546\u54C1\u5728\u989C\u8272\u548C\u5C3A\u5BF8\u7B49\u89C4\u683C\u90FD\u76F8\u540C\u7684\u60C5\u51B5\u4E0B\uFF0C\u5728\u8D2D\u7269\u8F66\u91CC\u624D\u7B97\u540C\u4E00\u4EF6\u7269\u54C1\uFF1B</li><li>\u672C\u5730\u5B58\u50A8\uFF1A\u8D2D\u7269\u8F66\u4E2D\u7684\u5546\u54C1\u9700\u8981\u5B58\u50A8\u5230\u672C\u5730\uFF0C\u7528\u6237\u672A\u7ED3\u7B97\u5173\u95ED\u4E86\u5E94\u7528\uFF0C\u5F53\u4E0B\u6B21\u6253\u5F00\u5E94\u7528\u65F6\uFF0C\u8D2D\u7269\u8F66\u5546\u54C1\u4F9D\u7136\u5728\uFF1B</li><li>\u5168\u5C40\u72B6\u6001\uFF1A\u8D2D\u7269\u8F66\u9700\u8981\u5168\u5C40\u8BFB\u53D6\uFF0C\u5728\u5546\u54C1\u8BE6\u60C5\u9875\u663E\u793A\u6570\u91CF\u548C\u52A0\u5165\u8D2D\u7269\u8F66\uFF0C\u5728\u8D2D\u7269\u8F66\u4E2D\u52A0\u51CF\u6570\u91CF\u7B49\u3002</li></ol><h3 id="\u521B\u5EFA\u8D2D\u7269\u8F66\u6570\u636E\u6A21\u578B" tabindex="-1">\u521B\u5EFA\u8D2D\u7269\u8F66\u6570\u636E\u6A21\u578B <a class="header-anchor" href="#\u521B\u5EFA\u8D2D\u7269\u8F66\u6570\u636E\u6A21\u578B" aria-hidden="true">#</a></h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ec7b243395b4e8d84432d5455856084~tplv-k3u1fbpfcp-watermark.image?" alt="2081658201873_.pic.jpg"></p><p>\u8D2D\u7269\u8F66\u5217\u8868\u9879 UI \u5982\u56FE\u6240\u793A\uFF0C\u5546\u54C1\u5C5E\u6027\u7ED3\u5408\u7C7B\u578B\u62DF\u5B9A Json \u6570\u636E\uFF1A</p><div class="language-json"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">46</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">title</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u80FD\u65B9\u7814\u5F71</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">price</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">61.96</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">cover</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://dummyimage.com/300x300/B9C6C3&amp;text=shopping%20mall</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">count</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">color</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u84DD\u8272</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">size</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">XS</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>Json to Dart\uFF1A\u524D\u5F80<a href="https://app.quicktype.io/" target="_blank" rel="noopener noreferrer">quicktype</a>\uFF0C\u5C06 Json \u6570\u636E\u590D\u5236\u8FDB\u53BB\u8F6C\u6362\u4E3A <code>Dart \u6570\u636E\u6A21\u578B</code>\uFF08\u5F53\u7136\u4E5F\u53EF\u4EE5\u624B\u52A8\u7F16\u5199\uFF09</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CartInfoModel</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">CartInfoModel</span><span style="color:#89DDFF;">({</span></span>
<span class="line"><span style="color:#A6ACCD;">    required this.id</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    required this.title</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    required this.price</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    required this.cover</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    required this.count</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    required this.color</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    required this.size</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  int </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">title</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  double </span><span style="color:#F07178;">price</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">cover</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  int </span><span style="color:#F07178;">count</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">size</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="\u8D2D\u7269\u8F66\u72B6\u6001\u7BA1\u7406" tabindex="-1">\u8D2D\u7269\u8F66\u72B6\u6001\u7BA1\u7406 <a class="header-anchor" href="#\u8D2D\u7269\u8F66\u72B6\u6001\u7BA1\u7406" aria-hidden="true">#</a></h3><p>\u9879\u76EE\u4F7F\u7528 Flutter \u5B98\u65B9\u63A8\u8350\u7684 <a href="https://riverpod.dev/" target="_blank" rel="noopener noreferrer">riverpod</a> \uFF08\u4E00\u79CD\u53CD\u5E94\u5F0F\u7F13\u5B58\u548C\u6570\u636E\u7ED1\u5B9A\u6846\u67B6\uFF09 \u8FDB\u884C\u8D2D\u7269\u8F66\u72B6\u6001\u7BA1\u7406\uFF0C\u8BA9\u6570\u636E\u53EF\u4EE5\u8DE8\u7EC4\u4EF6\u4F7F\u7528\u3002</p><p><strong>\u5F15\u5165\u63D2\u4EF6\u5E76\u4F7F\u7528\uFF1A</strong></p><p>\u5728\u9879\u76EE\u7EC8\u7AEF\u6267\u884C\u6307\u4EE4 \xA0<code>flutter pub add flutter_riverpod</code>\xA0 \u4E0B\u8F7D\u63D2\u4EF6\u3002\u521B\u5EFA <code>lib/providers/cart_provider.dart</code>\u6587\u4EF6\uFF1A</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:flutter_riverpod/flutter_riverpod.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> cartPrefsKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cartList</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CartNotifier</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ChangeNotifier</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u8D2D\u7269\u8F66\u5217\u8868</span></span>
<span class="line"><span style="color:#A6ACCD;">  final List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">CartInfoModel</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">cartList</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> &lt;</span><span style="color:#FFCB6B;">CartInfoModel</span><span style="color:#A6ACCD;">&gt;[]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u603B\u6570\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">  int </span><span style="color:#C792EA;">get</span><span style="color:#A6ACCD;"> totalCount </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">int</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">total</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartList</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">total</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">total</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u603B\u4EF7\u683C</span></span>
<span class="line"><span style="color:#A6ACCD;">  double </span><span style="color:#C792EA;">get</span><span style="color:#A6ACCD;"> totalPrice </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">double</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">total</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartList</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">total</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">price</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">total</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u52A0\u5165\u8D2D\u7269\u8F66</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u66F4\u65B0\u8D2D\u7269\u8F66\u6570\u91CF</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u79FB\u9664\u8D2D\u7269\u8F66\u6307\u5B9A\u9879</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// \u67E5\u8BE2/\u521D\u59CB\u5316\u8D2D\u7269\u8F66</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ChangeNotifierProvider \u7528\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">final cartProvider </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ChangeNotifierProvider</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">CartNotifier</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">((ref) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  return </span><span style="color:#F07178;">CartNotifier</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p><strong>\u6CE8\u518C\u5168\u5C40\u72B6\u6001\uFF1A</strong></p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:flutter/material.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:flutter_riverpod/flutter_riverpod.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">runApp</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// ProviderScope\u5305\u88F9\u5165\u53E3\u7EC4\u4EF6\uFF0C\u63D0\u4F9B\u5168\u5C40\u72B6\u6001</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">ProviderScope</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">child</span><span style="color:#F07178;">: </span><span style="color:#82AAFF;">MyApp</span><span style="color:#F07178;">())</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><strong>\u5728\u7EC4\u4EF6\u4E2D\u8BFB\u53D6\uFF1A</strong></p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u8BFB\u53D6\u8D2D\u7269\u8F66\u5217\u8868</span></span>
<span class="line"><span style="color:#A6ACCD;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">CartInfoModel</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> list </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    ref</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(cartProvider</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">select</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cartList))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u8BFB\u53D6\u7ED3\u7B97\u4EF7\u683C</span></span>
<span class="line"><span style="color:#A6ACCD;">double totalPrice </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    ref</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(cartProvider</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">select</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">totalPrice))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u8BFB\u53D6\u603B\u6570\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">int totalCount </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">    ref</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(cartProvider</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">select</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> value</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">totalCount))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u8C03\u7528\u65B9\u6CD5</span></span>
<span class="line"><span style="color:#A6ACCD;">ref</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#A6ACCD;">(cartProvider</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">notifier)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">pushCart</span><span style="color:#A6ACCD;">(_cartInfo)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="\u52A0\u5165\u8D2D\u7269\u8F66" tabindex="-1">\u52A0\u5165\u8D2D\u7269\u8F66 <a class="header-anchor" href="#\u52A0\u5165\u8D2D\u7269\u8F66" aria-hidden="true">#</a></h3><p>\u9996\u5148\u67E5\u627E\u540C\u4E00\u89C4\u683C\u7684\u5546\u54C1\uFF0C\u6709\u5219\u66F4\u65B0\u6570\u91CF\uFF0C\u65E0\u5219\u52A0\u5165\u8D2D\u7269\u8F66\u3002\u52A0\u5165\u8D2D\u7269\u8F66\u7684 <code>cartInfo</code> \u9700\u8981<strong>\u6DF1\u62F7\u8D1D</strong>\u907F\u514D\u5F71\u54CD\u518D\u6B21\u9009\u62E9\u8BE5\u5546\u54C1<strong>\u5176\u4ED6\u89C4\u683C</strong>\u7684\u65F6\u5019\u6539\u52A8\u8D2D\u7269\u8F66\u6570\u636E\u3002\u8D2D\u7269\u8F66\u6570\u636E\u6539\u53D8\u540E\u9700\u8981\u8C03\u7528 <code>notifyListeners</code> \u901A\u77E5\u72B6\u6001\u7BA1\u7406\u5668\u66F4\u65B0\u72B6\u6001\u3002</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">/// \u52A0\u5165\u8D2D\u7269\u8F66</span></span>
<span class="line"><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">pushCart</span><span style="color:#A6ACCD;">(CartInfoModel cartInfo) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u67E5\u627E id/color/size \u90FD\u76F8\u540C\u7684\u8D2D\u7269\u8F66\u5546\u54C1</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">int</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexWhere</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">size</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">size</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// \u5B58\u5728\u5219\u6570\u91CF+1</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">cartList</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// \u4E0D\u5B58\u5728\u5219\u6DFB\u52A0\uFF08\u8FD9\u91CC\u6DF1\u62F7\u8D1DcartInfo\uFF09</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">cartList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">cartInfoModelFromJson</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">cartInfoModelToJson</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#F07178;">)))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u901A\u77E5 CartNotifier \u72B6\u6001\u66F4\u65B0</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">notifyListeners</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u66F4\u65B0\u6570\u636E\u5B58\u50A8\u5230\u672C\u5730</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">updCartPrefs</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// \u66F4\u65B0\u8D2D\u7269\u8F66\u6570\u91CF</span></span>
<span class="line"><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">updCartCount</span><span style="color:#A6ACCD;">(CartInfoModel cartInfo</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> int count) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u67E5\u627E id/color/size \u90FD\u76F8\u540C\u7684\u8D2D\u7269\u8F66\u5546\u54C1</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">int</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexWhere</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">size</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">size</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// \u5B58\u5728\u5219\u66F4\u65B0\u6570\u91CF</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">cartList</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">notifyListeners</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u66F4\u65B0\u6570\u636E\u5B58\u50A8\u5230\u672C\u5730</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">updCartPrefs</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/// \u79FB\u9664\u8D2D\u7269\u8F66\u6307\u5B9A\u5546\u54C1</span></span>
<span class="line"><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">renmoveCart</span><span style="color:#A6ACCD;">(CartInfoModel cartInfo) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u67E5\u627E id/color/size \u90FD\u76F8\u540C\u7684\u8D2D\u7269\u8F66\u5546\u54C1</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">int</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexWhere</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">color</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">size</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">size</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// \u5B58\u5728\u5219\u79FB\u9664\u8BE5\u9879</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">cartList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeAt</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">idx</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">notifyListeners</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u66F4\u65B0\u6570\u636E\u5B58\u50A8\u5230\u672C\u5730</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">updCartPrefs</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="\u8D2D\u7269\u8F66\u672C\u5730\u5B58\u50A8" tabindex="-1">\u8D2D\u7269\u8F66\u672C\u5730\u5B58\u50A8 <a class="header-anchor" href="#\u8D2D\u7269\u8F66\u672C\u5730\u5B58\u50A8" aria-hidden="true">#</a></h3><p><strong>\u9700\u6C42\uFF1A</strong> \u5546\u54C1\u52A0\u5165\u5230\u8D2D\u7269\u8F66\uFF0C\u8FD8\u672A\u7ED3\u7B97\u5E76\u9000\u51FA\u5E94\u7528\uFF0C\u4E0B\u6B21\u8FDB\u6765\u8D2D\u7269\u8F66\u5546\u54C1\u8FD8\u5728\u3002<br><strong>\u601D\u8DEF\uFF1A</strong> \u6BCF\u6B21\u8D2D\u7269\u8F66\u6570\u636E\u6709\u6539\u52A8\u9700\u8981\u628A\u6570\u636E\u66F4\u65B0\u5230\u672C\u5730\u5B58\u50A8\uFF0C\u4E0B\u6B21\u6253\u5F00 App \u7684\u65F6\u5019\u4ECE\u672C\u5730\u6062\u590D\u6570\u636E\u5230\u8D2D\u7269\u8F66\u3002<br><strong>\u6301\u4E45\u5316\u5B58\u50A8\uFF1A</strong> \u9879\u76EE\u4F7F\u7528 <code>shared_preferences</code> \u63D2\u4EF6\u8FDB\u884C\u672C\u5730\u6301\u4E45\u5316\u5B58\u50A8\u3002\u4EE5<code>key-value</code>\u7684\u5F62\u5F0F\u5B58\u50A8\u5B57\u7B26\u4E32\u5230\u672C\u5730\u3002</p><p><strong>\u5F15\u5165\u63D2\u4EF6\u5E76\u4F7F\u7528\uFF1A</strong></p><p>\u5728\u9879\u76EE\u7EC8\u7AEF\u6267\u884C\u6307\u4EE4 <code>flutter pub add shared_preferences</code> \u4E0B\u8F7D\u63D2\u4EF6\uFF0C\u5728 <code>cart_provider.dart</code> \u8D2D\u7269\u8F66\u72B6\u6001\u7BA1\u7406\u7C7B\u4E2D\u4F7F\u7528\uFF1A</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:shared_preferences/shared_preferences.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">CartNotifier</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ChangeNotifier</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  final List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">CartInfoModel</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">cartList</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> &lt;</span><span style="color:#FFCB6B;">CartInfoModel</span><span style="color:#A6ACCD;">&gt;[]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">/// \u66F4\u65B0\u8D2D\u7269\u8F66\u6570\u636E\u5230\u672C\u5730\u6301\u4E45\u5316\u5B58\u50A8</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">updCartPrefs</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> async </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">final</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">prefs</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">SharedPreferences</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getInstance</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u8D2D\u7269\u8F66\u6570\u636E\u8F6C\u4E3A\u5B57\u7B26\u4E32</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">String</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartString</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">encode</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">cartList</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \`setString\`\u5B58\u50A8\u5230\u672C\u5730</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">prefs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setString</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cartList</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartString</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">/// \u67E5\u8BE2/\u521D\u59CB\u5316 - \u4ECE\u672C\u5730\u8BFB\u53D6\u6570\u636E\u6062\u590D\u5230\u8D2D\u7269\u8F66\u72B6\u6001</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  Future</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">CartInfoModel</span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">getCartList</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> async </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u83B7\u53D6\u6301\u4E45\u5316\u5B9E\u4F8B</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">final</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">prefs</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">SharedPreferences</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getInstance</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u8C03\u7528\`getString\`\u65B9\u6CD5\u8BFB\u53D6\u672C\u5730\u5B57\u7B26\u4E32\u6570\u636E</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_cartString</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">prefs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getString</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cartList</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">cartList</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clear</span><span style="color:#F07178;">();</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u5B57\u7B26\u4E32\u6570\u636E\u8F6C\u6362\u4E3A\`CartInfoModel\`\u521D\u59CB\u5316\u5230\u8D2D\u7269\u8F66\u5217\u8868</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">_cartString</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      List&lt;CartInfoModel&gt; </span><span style="color:#A6ACCD;">_list</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">cartInfoModelListFromJson</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">_cartString</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">      cartList.addAll(_list);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">notifyListeners</span><span style="color:#F07178;">();</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cartList</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">  }</span></span>
<span class="line"><span style="color:#F07178;">}</span></span>
<span class="line"></span></code></pre></div><p><strong>\u521D\u59CB\u5316\u8D2D\u7269\u8F66\uFF1A</strong></p><p>\u7528\u6237\u6BCF\u6B21\u6253\u5F00\u5E94\u7528\uFF0C\u6062\u590D\u8D2D\u7269\u8F66\u6570\u636E\uFF1A\u5728\u5165\u53E3\u6587\u4EF6 <code>main.dart</code> \u4E2D\u8C03\u7528 <code>getCartList</code> \u65B9\u6CD5\u521D\u59CB\u5316\u8D2D\u7269\u8F66\u6570\u636E\u3002</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">package:flutter_riverpod/flutter_riverpod.dart</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// flutter_riverpod \u4E2D\u7684 \`ConsumerStatefulWidget\` \u7C7B</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u5728\u72B6\u6001\u7EC4\u4EF6\u4E2D\u63D0\u4F9B ref \u4EE5\u4F7F\u7528\u72B6\u6001\u7BA1\u7406\u5668</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyApp</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ConsumerStatefulWidget</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  const </span><span style="color:#F07178;">MyApp</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;">Key? key</span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">key</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">override</span></span>
<span class="line"><span style="color:#A6ACCD;">  ConsumerState</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">MyApp</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">createState</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">_MyAppState</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">_MyAppState</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ConsumerState</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">MyApp</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">override</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">initState</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">super</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">initState</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// \u8C03\u7528\`getCartList\`\u65B9\u6CD5\u521D\u59CB\u5316\u8D2D\u7269\u8F66</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">ref</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">cartProvider</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCartList</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">override</span></span>
<span class="line"><span style="color:#A6ACCD;">  Widget </span><span style="color:#F07178;">build</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">BuildContext context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">MaterialApp</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">title</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u9752\u5C71\u5546\u57CE</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u9879\u76EE-app-\u6253\u5305" tabindex="-1">\u9879\u76EE App \u6253\u5305 <a class="header-anchor" href="#\u9879\u76EE-app-\u6253\u5305" aria-hidden="true">#</a></h2><p>\u4EE3\u7801\u5199\u7684\u597D\u4E0D\u5982\u4EA7\u54C1\u5305\u88C5\u7684\u597D\uFF0C\u6253\u5305\u4E5F\u662F\u81F3\u5173\u91CD\u8981\u7684\u4E00\u6B65\u3002\u7531\u4E8E\u8BBE\u5907\u6709\u9650\uFF0C\u9879\u76EE\u53EA\u4EB2\u6D4B\u4E86\u5B89\u5353 apk \u6253\u5305\uFF0C\u5176\u4ED6\u7EC8\u7AEF\u7684\u6253\u5305\u65B9\u6CD5\u53C2\u8003 <a href="https://flutter.cn/docs/deployment/android" target="_blank" rel="noopener noreferrer">\u5B98\u65B9\u6253\u5305\u90E8\u7F72</a></p><h3 id="\u6253\u5305-apk-\u6307\u4EE4" tabindex="-1">\u6253\u5305 apk \u6307\u4EE4 <a class="header-anchor" href="#\u6253\u5305-apk-\u6307\u4EE4" aria-hidden="true">#</a></h3><p>\u9879\u76EE\u7EC8\u7AEF\u6267\u884C\u6307\u4EE4\uFF0C\u7B49\u5F85\u6253\u5305\u7ED3\u675F\u540E\u63D0\u793A apk \u4F4D\u7F6E\u3002<code>--split-per-abi</code> \u6309 abi \u62C6\u5206 apk\uFF0C\u51CF\u5C0F\u5305\u4F53\u79EF</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">flutter build apk --split-per-abi</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="\u5E94\u7528\u540D\u79F0\u4FEE\u6539" tabindex="-1">\u5E94\u7528\u540D\u79F0\u4FEE\u6539 <a class="header-anchor" href="#\u5E94\u7528\u540D\u79F0\u4FEE\u6539" aria-hidden="true">#</a></h3><ul><li><p>Android\uFF1A\u5728 <code>android/app/src/main/AndroidManifest.xml</code> \u4E2D\u4FEE\u6539<code>android:label=&quot;\u5E94\u7528\u540D\u79F0&quot;</code></p></li><li><p>iOS\uFF1A\u5728 <code>ios/Runner/Info.plist</code> \u4E2D\u4FEE\u6539 <code>CFBundleName</code> \u5BF9\u5E94\u7684 Value</p></li></ul><h3 id="\u5E94\u7528\u56FE\u6807\u4FEE\u6539" tabindex="-1">\u5E94\u7528\u56FE\u6807\u4FEE\u6539 <a class="header-anchor" href="#\u5E94\u7528\u56FE\u6807\u4FEE\u6539" aria-hidden="true">#</a></h3><ul><li><p>Android\uFF1A \u5728 <code>android/app/src/res/mipmap</code> \u6587\u4EF6\u5939\u4E2D\u66FF\u6362\u76F8\u5E94\u56FE\u7247</p></li><li><p>iOS\uFF1A\u5728 <code>ios/Runner/Assets.xcassets/AppIcon.appiconset</code> \u6587\u4EF6\u5939\u4E2D\u66FF\u6362\u76F8\u5E94\u5C3A\u5BF8\u7684\u56FE\u7247\u3002\u5982\u679C\u4F7F\u7528\u4E0D\u540C\u7684\u6587\u4EF6\u540D\uFF0C\u8FD8\u9700\u66F4\u65B0\u540C\u4E00\u76EE\u5F55\u4E2D\u7684 <code>Contents.json</code> \u6587\u4EF6\u4E2D\u7684 <code>filename</code></p></li></ul><h3 id="\u542F\u52A8\u9875\u56FE\u7247" tabindex="-1">\u542F\u52A8\u9875\u56FE\u7247 <a class="header-anchor" href="#\u542F\u52A8\u9875\u56FE\u7247" aria-hidden="true">#</a></h3><ul><li><p>Android\uFF1A\u5728 <code>android/app/src/res/drawable/launch_background.xml</code> \u6587\u4EF6\u5B9E\u73B0\u81EA\u5B9A\u4E49\u542F\u52A8\u754C\u9762\uFF0C\u8FD9\u91CC\u7684\u662F xml \u8BED\u6CD5\u3002\u4E5F\u53EF\u4EE5\u4F7F\u7528\u9ED8\u8BA4\u6A21\u7248\uFF0C\u5728 <code>android/app/src/res/mipmap</code> \u76F8\u5E94\u5C3A\u5BF8\u6587\u4EF6\u4E0B\u653E\u5165\u542F\u52A8\u56FE\u7247<code>launch_image</code>\uFF1A</p><div class="language-xml"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">item</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">bitmap</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">gravity</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">center</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@mipmap/launch_image</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">item</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div></li><li><p>iOS\uFF1A\u5728 <code>ios/Runner/Assets.xcassets/LaunchImage.imageset</code> \u6587\u4EF6\u5939\u4E2D\u66FF\u6362\u76F8\u5E94\u5C3A\u5BF8\u7684\u56FE\u7247\u3002\u5982\u679C\u4F7F\u7528\u4E0D\u540C\u7684\u6587\u4EF6\u540D\uFF0C\u8FD8\u9700\u66F4\u65B0\u540C\u4E00\u76EE\u5F55\u4E2D\u7684 <code>Contents.json</code> \u6587\u4EF6\u4E2D\u7684 <code>filename</code></p></li></ul><h3 id="\u5B89\u5353-app-\u7B7E\u540D" tabindex="-1">\u5B89\u5353 App \u7B7E\u540D <a class="header-anchor" href="#\u5B89\u5353-app-\u7B7E\u540D" aria-hidden="true">#</a></h3><p>\u82E5\u9700\u8981\u5C06 apk \u53D1\u5E03\u5230\u5404\u5927\u5E94\u7528\u5E02\u573A\uFF0C\u6BD4\u5982\u5E94\u7528\u5B9D\u7B49\uFF0C\u9700\u8981\u5BF9 app \u8FDB\u884C\u7B7E\u540D\u3002</p><ol><li>\u7EC8\u7AEF\u6267\u884C\u4E0B\u65B9\u6307\u4EE4\u83B7\u53D6\u79D8\u94A5\u6587\u4EF6\uFF0C\u6587\u4EF6\u9ED8\u8BA4\u5728\u5F53\u524D\u76EE\u5F55\uFF0C\u5C06\u751F\u6210\u7684 <code>key.jks</code> \u590D\u5236\u5230\u9879\u76EE\u7684 <code>android/app/</code> \u76EE\u5F55\u4E0B\uFF1A</li></ol><div class="language-sh"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">keytool -genkey -v -keystore key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key</span></span>
<span class="line"></span></code></pre></div><ol start="2"><li>\u4FEE\u6539 <code>android/key.properties</code> \u6587\u4EF6\uFF08\u6CA1\u6709\u5219\u65B0\u5EFA\uFF09</li></ol><div class="language-xml"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">storePassword=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">\u4E0A\u4E00\u6B65\u9AA4\u4E2D\u7684\u5BC6\u7801</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">keyPassword=</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">\u4E0A\u4E00\u6B65\u9AA4\u4E2D\u7684\u5BC6\u7801</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">keyAlias=key</span></span>
<span class="line"><span style="color:#A6ACCD;">storeFile=key.jks</span></span>
<span class="line"></span></code></pre></div><ol start="3"><li><code>android/app/build.gradle</code> \u4E2D\uFF0C<code>android</code> \u4EE3\u7801\u5757\u4E4B\u524D\u65B0\u589E\u5185\u5BB9</li></ol><div class="language-java"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u65B0\u589E\u7684\u5185\u5BB9</span></span>
<span class="line"><span style="color:#A6ACCD;">def keystoreProperties </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Properties</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">def keystorePropertiesFile </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> rootProject</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">file</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">key.properties</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">keystorePropertiesFile</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exists</span><span style="color:#89DDFF;">())</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    keystoreProperties</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">load</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">FileInputStream</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">keystorePropertiesFile</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// android \u4EE3\u7801\u5757</span></span>
<span class="line"><span style="color:#A6ACCD;">android </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>\u4FEE\u6539 <code>signingConfigs</code> \u548C <code>buildTypes</code> \u4EE3\u7801\u5757\uFF1A</p><div class="language-java"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// \u65B0\u589E\u5185\u5BB9</span></span>
<span class="line"><span style="color:#A6ACCD;">signingConfigs </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    release </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        keyAlias keystoreProperties</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">keyAlias</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">        keyPassword keystoreProperties</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">keyPassword</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">        storeFile keystoreProperties</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">storeFile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">file</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">keystoreProperties</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">storeFile</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">])</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#A6ACCD;">        storePassword keystoreProperties</span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">storePassword</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// \u66FF\u6362\u7684\u5185\u5BB9</span></span>
<span class="line"><span style="color:#A6ACCD;">buildTypes </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    release </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        signingConfig signingConfigs</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">release</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="\u5176\u4ED6\u6253\u5305\u6CE8\u610F\u4E8B\u9879" tabindex="-1">\u5176\u4ED6\u6253\u5305\u6CE8\u610F\u4E8B\u9879 <a class="header-anchor" href="#\u5176\u4ED6\u6253\u5305\u6CE8\u610F\u4E8B\u9879" aria-hidden="true">#</a></h3><p><strong>apk \u6253\u5305\u540E\u7F51\u7EDC\u56FE\u7247\u4E0D\u663E\u793A\uFF1A</strong></p><p>\u5728 <code>android/app/src/profile/AndroidManifest.xml</code> \u4E2D\u5141\u8BB8\u7F51\u7EDC\u6743\u9650\uFF08\u82E5\u65E0\u6548\u5219\u9700\u8981\u5728 <code>android/app/src/main/AndroidManifest.xml</code>\u4E5F\u914D\u7F6E\u4E00\u4EFD\uFF09\uFF1A</p><div class="language-xml"><span class="copy"></span><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">uses-permission</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">android.permission.INTERNET</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"></span></code></pre></div><p><strong>\u7A7A\u5B89\u5168\u9519\u8BEF\uFF08flutter v2\uFF09\uFF1A</strong></p><p>\u5982\u679C\u4F60\u4F7F\u7528\u7684\u662F <code>flutter v2</code> \u7248\u672C\u6216\u8005\u66F4\u9AD8\u7248\u672C\uFF0C\u8FD0\u884C\u6216\u6253\u5305\u65F6\u62A5\u7A7A\u5B89\u5168\u9519\u8BEF(null safety)\u3002\u662F\u56E0\u4E3A\u4F60\u5728\u9879\u76EE\u4E2D\u7684\u90E8\u5206\u5199\u6CD5\u6216\u8005<strong>\u63D2\u4EF6</strong>\u4E0D\u652F\u6301\u7A7A\u5B89\u5168\u89C4\u8303\uFF0C\u5EFA\u8BAE\u66FF\u6362\u652F\u6301 <code>Null Safety</code> \u7684\u63D2\u4EF6\u3002\u6216\u8005\u4F7F\u7528\u4EE5\u4E0B\u6307\u4EE4 <code>--no-sound-null-safety</code> \u8DF3\u8FC7 <code>Null Safety</code> \u68C0\u6D4B\u3002</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">flutter build apk --no-sound-null-safety</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="\u7ED3\u8BED" tabindex="-1">\u7ED3\u8BED <a class="header-anchor" href="#\u7ED3\u8BED" aria-hidden="true">#</a></h2><p>\u53EF\u4EE5\u770B\u5230\uFF0C\u6587\u7AE0\u5F00\u5934\u7684 <code>Flutter\u5546\u57CEAPP\u5B9E\u6218\u77E5\u8BC6\u70B9\u56FE</code>\uFF0C\u9879\u76EE\u77E5\u8BC6\u70B9\u5927\u5927\u5C0F\u5C0F\u6709\u51E0\u5341\u4E2A\uFF0C\u56E0\u4E3A\u7CBE\u529B\u6709\u9650\uFF0C\u62BD\u53D6\u4E86\u51E0\u4E2A\u4E3B\u8981\u77E5\u8BC6\u70B9\u8BB2\u89E3\u3002\u5982\u679C\u5927\u5BB6\u60F3\u8981\u4E00\u8D77\u5B66\u4E60\u56FE\u4E2D <strong>\u5176\u4ED6\u7684\u77E5\u8BC6\u70B9</strong>\uFF0C\u53EF\u4EE5\u5728\u8BC4\u8BBA\u533A <strong>\u7559\u8A00 \u{1F4AC}</strong>\uFF0C \u6BCF\u5468\u4F1A\u62BD\u53D6\u65F6\u95F4 <strong>\u66F4\u65B0\u6587\u7AE0</strong>\u3002</p><p>\u535A\u89C2\u800C\u7EA6\u53D6\uFF0C\u539A\u79EF\u800C\u8584\u53D1<br> \u8BB0\u5F97 \u{1F44D} \u70B9\u8D5E + \u2764\uFE0F \u6536\u85CF\uFF0C\u2795 \u5173\u6CE8\u4E0D\u8FF7\u8DEF</p><p>\u9879\u76EE Gitee\uFF1A<a href="https://gitee.com/jsdawn/shopping_mall" target="_blank" rel="noopener noreferrer">https://gitee.com/jsdawn/shopping_mall</a></p><blockquote><p><strong>\u8F6C\u8F7D\u58F0\u660E</strong>\uFF1A \u8BF7\u6CE8\u660E\u4F5C\u8005\uFF0C\u6CE8\u660E\u539F\u6587\u94FE\u63A5\uFF0C\u6709\u7591\u95EE\u81F4\u90AE <a href="mailto:kingwyh1993@163.com">kingwyh1993@163.com</a></p></blockquote>`,124),e=[o];function t(c,r,y,F,D,i){return n(),a("div",null,e)}var d=s(p,[["render",t]]);export{C as __pageData,d as default};
